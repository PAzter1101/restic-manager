# Restic Web Manager

[![Build and Push Docker Image](https://github.com/pazter1101/restic-manager/workflows/Build%20and%20Push%20Docker%20Image/badge.svg)](https://github.com/pazter1101/restic-manager/actions)
[![Code Quality](https://github.com/pazter1101/restic-manager/workflows/Code%20Quality/badge.svg)](https://github.com/pazter1101/restic-manager/actions)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–µ–∫–∞–ø–æ–≤ –∏–∑ restic —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ –±–∞–∑–µ FastAPI.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã
- üì∏ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å–Ω–∞–ø—à–æ—Ç–æ–≤
- üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ö–æ—Å—Ç–∞–º –∏ —Ç–µ–≥–∞–º
- ‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- ‚ÑπÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–Ω–∞–ø—à–æ—Ç–∞—Ö
- üì± –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- –î–æ—Å—Ç—É–ø –∫ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â—É —Å restic —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ì–æ—Ç–æ–≤—ã–π Docker –æ–±—Ä–∞–∑

1. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
   ```
   RESTIC_REPOSITORY=s3:https://s3.example.com/your-backup-bucket
   RESTIC_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_restic
   AWS_ACCESS_KEY_ID=–≤–∞—à_–∫–ª—é—á_–¥–æ—Å—Ç—É–ø–∞
   AWS_SECRET_ACCESS_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
   SECRET_KEY=—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞_–¥–ª—è_jwt
   ADMIN_USERNAME=admin
   ADMIN_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–∞–¥–º–∏–Ω–∞
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   ```bash
   # –ò–∑ GitHub Container Registry
   docker run -d -p 8000:8000 --env-file .env ghcr.io/pazter1101/restic-web-manager:latest
   
   # –ò–ª–∏ –∏–∑ Docker Hub
   docker run -d -p 8000:8000 --env-file .env pazter1101/restic-web-manager:latest
   ```

3. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```bash
   cp .env.example .env
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   docker-compose up -d
   ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í–æ–π–¥–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—è —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `.env`
2. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ —Å–Ω–∞–ø—à–æ—Ç–æ–≤
3. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Ö–æ—Å—Ç–∞–º –∏ —Ç–µ–≥–∞–º
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:
```bash
pip install -r requirements-test.txt
cd app && python -m pytest ../tests/ -v
```

## API

- `GET /` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `POST /login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /snapshots` - —Å–ø–∏—Å–æ–∫ —Å–Ω–∞–ø—à–æ—Ç–æ–≤
- `GET /download/{snapshot_id}/{path}` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ß–∏—Ç–∞–π—Ç–µ [CONTRIBUTING.md](CONTRIBUTING.md) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –∫–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Restic](https://restic.net/) - –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- [FastAPI](https://fastapi.tiangolo.com/) - –∑–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
